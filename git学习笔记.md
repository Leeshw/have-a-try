###### git的三个组件

- 存储库：仓库，存储所有内容

- 工作树：正在处理的工作目录，

- 索引：暂存区，暂存后，工作树中的文件将和存储库中的文件进行比较。对工作树中的更改提交之前标记为已更改。

###### git工作流程

- 修改工作树文件
- 暂存要提交的修改
- 提交修改

###### git具体操作

- 创建仓库/克隆仓库：git clone +网址

- 本地文件操作
  - Modified：已修改，但未放置到暂存区
  - Staged：已暂存，当使用 `git add` 命令后，文件会进入“已暂存”状态，表示这些更改已被添加到 Git 的暂存区，准备提交到本地仓库。
  - Committed：已提交，当运行 `git commit` 命令后，已暂存的更改会被提交到 Git 本地仓库的历史记录中。

- 连接远程仓库

  - Push：操作将本地仓库的提交推送到远程仓库
  - Pull：从远程仓库获取最新的提交并将其合并到当前的本地分支
  - merge：将一个分支的更改合并到当前分支中

- 分支操作

  - 查看分支：git branch
  - 创建分支：git checkout -b 分支名字
  - 更新分支：git push origin 分支名字
  - 合并分支
    - 切换到目标分支：git checkout 目标分支
    - 拉取分支git pull origin 分支名字
    - 合并分支： git merge 分支名字
    - 推送：git push origin 目标分支 
    - 在合并时，删除和新增的文件会根据新分支的状态进行更新 
  
- 还原变更

  - 工作区：修改了文件但还未使用 `git add` 暂存时，使用git checkout还原文件
  - 暂存区：已经使用 `git add` 暂存了文件，但还未提交，使用git reset将它们从暂存区移除，恢复为未暂存的状态
    - **注意**：此命令不会丢失修改内容，它只是将文件从暂存区移回工作区，文件的修改仍然保留。
  - 撤销最近的提交（保留修改）（更改历史记录）：
    - 撤销最近的提交，但保留修改内容（放回工作区）：git reset --soft HEAD~1
    - 撤销最近的提交，放回暂存区：git reset --mixed HEAD~1
  - 删除最近的提交（彻底删除）（更改历史记录）：git reset --hard HEAD~1
    - **注意**：此操作会删除上次提交后的所有修改和提交，无法恢复。
  - 如果想完全放弃当前的所有更改并恢复到上一次提交的状态（更改历史记录）：git reset --hard
    - **注意**：这个命令非常危险，它会删除所有未提交的更改，**无法恢复**。

  > `HEAD~1` 指的是回退到上一个提交，如果你想回退到更早的提交，可以用 `HEAD~2` 或指定具体的提交哈希值。
  
  - 如果想撤销一个已经推送到远程仓库的提交，而又不想修改历史记录，使用 `git revert`，这是撤消更改的最常用方法。

###### git协作